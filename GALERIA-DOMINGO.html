<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Domingo · Bachastation</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:radial-gradient(circle at top,#1a1a1a 0%,#000 65%);
  color:#fff;
}
h2{text-align:center;letter-spacing:3px;margin:24px 0}
.card{
  max-width:420px;margin:0 auto 30px;
  background:linear-gradient(180deg,#222,#141414);
  border-radius:24px;padding:20px;
}
.logo img{display:block;margin:0 auto 14px;width:160px}
.center{text-align:center}
.center a{color:#7aa2ff;text-decoration:none}

.slider{
  display:flex;gap:10px;
  overflow-x:auto;scroll-snap-type:x mandatory;
  margin-top:16px
}
.slider::-webkit-scrollbar{display:none}
.item{flex:0 0 70%;scroll-snap-align:start}
.item img,.item video{
  width:100%;border-radius:16px;cursor:pointer
}

.calendar{margin-top:24px;text-align:center}
.days{display:flex;justify-content:center;gap:10px;margin-top:10px}
.days button{
  width:42px;height:42px;border-radius:12px;
  background:#333;color:#fff;border:none
}
.days .active{background:#666}

.modal{
  position:fixed;inset:0;background:rgba(0,0,0,.9);
  display:none;align-items:center;justify-content:center;z-index:1000
}
.modal img,.modal video{max-width:90%;max-height:80%}
.controls{
  position:absolute;bottom:30px;display:flex;gap:12px
}
.controls a,.controls button{
  background:#222;color:#fff;
  border:1px solid rgba(255,255,255,.4);
  padding:10px 14px;border-radius:999px
}
</style>
</head>

<body>

<h2>DOMINGO</h2>

<div class="card">
  <div class="logo"><img src="img/logo-domingo.png"></div>

  <div class="center">
    <strong>Bachastation – Hyde Club Barcelona</strong><br>
    <a href="https://instagram.com/bachastation" target="_blank">@bachastation</a>
  </div>

  <div class="slider" id="slider"></div>

  <div class="calendar">
    <strong id="titulo"></strong>
    <div class="days" id="days"></div>
  </div>
</div>

<div class="modal" id="modal" onclick="closeModal()">
  <div id="modalContent"></div>
  <div class="controls">
    <a id="download" download>⬇ Descargar</a>
    <button onclick="share(event)">↗ Compartir</button>
    <a href="https://instagram.com/bachastation" target="_blank">Instagram</a>
  </div>
</div>

<script>
const domingos=[
 "2026-01-04",
 "2026-01-11",
 "2026-01-18",
 "2026-01-25"
];
let idx=1;

function load(){
 const date=new Date(domingos[idx]);
 document.getElementById("titulo").textContent=
  `Domingo ${date.getDate()} de enero`;

 fetch(`media-${domingos[idx]}-domingo.js`)
  .then(r=>r.text()).then(t=>{
   eval(t);
   const s=document.getElementById("slider");
   s.innerHTML="";
   media.forEach(m=>{
    const d=document.createElement("div");
    d.className="item";
    d.innerHTML=m.type==="img"
     ? `<img src="${m.src}" onclick="open('${m.src}','img')">`
     : `<video src="${m.src}" onclick="open('${m.src}','video')" muted></video>`;
    s.appendChild(d);
   });
 });
 renderDays();
}

function renderDays(){
 const d=document.getElementById("days");d.innerHTML="";
 domingos.forEach((x,i)=>{
  const b=document.createElement("button");
  b.textContent=new Date(x).getDate();
  if(i===idx)b.classList.add("active");
  b.onclick=()=>{idx=i;load()};
  d.appendChild(b);
 });
}

function open(src,type){
 const c=document.getElementById("modalContent");
 c.innerHTML= type==="img"
  ? `<img src="${src}">`
  : `<video src="${src}" controls autoplay></video>`;
 document.getElementById("download").href=src;
 document.getElementById("modal").style.display="flex";
}
function closeModal(){modal.style.display="none"}
function share(e){
 e.stopPropagation();
 if(navigator.share)navigator.share({url:download.href});
}

load();
</script>

</body>
</html>
